"use strict";(self["webpackChunkview"]=self["webpackChunkview"]||[]).push([[463],{6463:function(t,e,i){i.r(e),i.d(e,{default:function(){return Ve}});var s=i(4061),n=s.Z.extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:[String,Number],transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes(){return{...s.Z.options.computed.classes.call(this),"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset}}}}),a=i(4562),o=i(9582),r=i(4886),l=i(266),h=i(2118),u=i(4324),c=i(8654),d=i(5808),m=i(4525),p=i(2933),g=i(3305),v=i(9592),f=i(1713),b=i(7394),w=i(573),y=i(7678),x=i(8126),k=i(5942),$=i(5352),C=i(4101),S=(0,y.Z)(w.Z,x.Z).extend({name:"v-slider",directives:{ClickOutside:k.Z},mixins:[x.Z],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>"boolean"===typeof t||"always"===t},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:()=>[]},ticks:{type:[Boolean,String],default:!1,validator:t=>"boolean"===typeof t||"always"===t},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:()=>({app:null,oldValue:null,thumbPressed:!1,mouseTimeout:-1,isFocused:!1,isActive:!1,noClick:!1,startOffset:0}),computed:{classes(){return{...w.Z.options.computed.classes.call(this),"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel}},internalValue:{get(){return this.lazyValue},set(t){t=isNaN(t)?this.minValue:t;const e=this.roundValue(Math.min(Math.max(t,this.minValue),this.maxValue));e!==this.lazyValue&&(this.lazyValue=e,this.$emit("input",e))}},trackTransition(){return this.thumbPressed?this.showTicks||this.stepNumeric?"0.1s cubic-bezier(0.25, 0.8, 0.5, 1)":"none":""},minValue(){return parseFloat(this.min)},maxValue(){return parseFloat(this.max)},stepNumeric(){return this.step>0?parseFloat(this.step):0},inputWidth(){const t=(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100;return isNaN(t)?0:t},trackFillStyles(){const t=this.vertical?"bottom":"left",e=this.vertical?"top":"right",i=this.vertical?"height":"width",s=this.$vuetify.rtl?"auto":"0",n=this.$vuetify.rtl?"0":"auto",a=this.isDisabled?`calc(${this.inputWidth}% - 10px)`:`${this.inputWidth}%`;return{transition:this.trackTransition,[t]:s,[e]:n,[i]:a}},trackStyles(){const t=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",e=this.vertical?"height":"width",i="0px",s=this.isDisabled?`calc(${100-this.inputWidth}% - 10px)`:`calc(${100-this.inputWidth}%)`;return{transition:this.trackTransition,[t]:i,[e]:s}},showTicks(){return this.tickLabels.length>0||!(this.isDisabled||!this.stepNumeric||!this.ticks)},numTicks(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel(){return!this.isDisabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor(){if(!this.isDisabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor(){if(!this.isDisabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min(t){const e=parseFloat(t);e>this.internalValue&&this.$emit("input",e)},max(t){const e=parseFloat(t);e<this.internalValue&&this.$emit("input",e)},value:{handler(t){this.internalValue=t},immediate:!0}},mounted(){this.app=document.querySelector("[data-app]")||(0,C.Kd)("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot(){const t=[this.genLabel()],e=this.genSlider();return this.inverseLabel?t.unshift(e):t.push(e),t.push(this.genProgress()),t},genSlider(){return this.$createElement("div",{class:{"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.isDisabled,"v-slider--readonly":this.isReadonly,...this.themeClasses},directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick,mousedown:this.onSliderMouseDown,touchstart:this.onSliderMouseDown}},this.genChildren())},genChildren(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onFocus,this.onBlur)]},genInput(){return this.$createElement("input",{attrs:{value:this.internalValue,id:this.computedId,disabled:!0,readonly:!0,tabindex:-1,...this.$attrs}})},genTrackContainer(){const t=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},t)},genSteps(){if(!this.step||!this.showTicks)return null;const t=parseFloat(this.tickSize),e=(0,$.MT)(this.numTicks+1),i=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",s=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&e.reverse();const n=e.map((e=>{const n=[];this.tickLabels[e]&&n.push(this.$createElement("div",{staticClass:"v-slider__tick-label"},this.tickLabels[e]));const a=e*(100/this.numTicks),o=this.$vuetify.rtl?100-this.inputWidth<a:a<this.inputWidth;return this.$createElement("span",{key:e,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":o},style:{width:`${t}px`,height:`${t}px`,[i]:`calc(${a}% - ${t/2}px)`,[s]:`calc(50% - ${t/2}px)`}},n)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},n)},genThumbContainer(t,e,i,s,n,a,o="thumb"){const r=[this.genThumb()],l=this.genThumbLabelContent(t);return this.showThumbLabel&&r.push(this.genThumbLabel(l)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:o,key:o,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":i,"v-slider__thumb-container--focused":s,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(e),attrs:{role:"slider",tabindex:this.isDisabled?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.$attrs["aria-label"]||this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.isReadonly),"aria-orientation":this.vertical?"vertical":"horizontal"},on:{focus:n,blur:a,keydown:this.onKeyDown}}),r)},genThumbLabelContent(t){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:t}):[this.$createElement("span",[String(t)])]},genThumbLabel(t){const e=(0,$.kb)(this.thumbSize),i=this.vertical?`translateY(20%) translateY(${Number(this.thumbSize)/3-1}px) translateX(55%) rotate(135deg)`:"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(b.T0,{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:e,width:e,transform:i}}),[this.$createElement("div",t)])])])},genThumb(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles(t){const e=this.vertical?"top":"left";let i=this.$vuetify.rtl?100-t:t;return i=this.vertical?100-i:i,{transition:this.trackTransition,[e]:`${i}%`}},onSliderMouseDown(t){var e;if(t.preventDefault(),this.oldValue=this.internalValue,this.isActive=!0,null===(e=t.target)||void 0===e?void 0:e.matches(".v-slider__thumb-container, .v-slider__thumb-container *")){this.thumbPressed=!0;const e=t.target.getBoundingClientRect(),i="touches"in t?t.touches[0]:t;this.startOffset=this.vertical?i.clientY-(e.top+e.height/2):i.clientX-(e.left+e.width/2)}else this.startOffset=0,window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout((()=>{this.thumbPressed=!0}),300);const i=!$.e$||{passive:!0,capture:!0},s=!!$.e$&&{passive:!0},n="touches"in t;this.onMouseMove(t),this.app.addEventListener(n?"touchmove":"mousemove",this.onMouseMove,s),(0,$.qh)(this.app,n?"touchend":"mouseup",this.onSliderMouseUp,i),this.$emit("start",this.internalValue)},onSliderMouseUp(t){t.stopPropagation(),window.clearTimeout(this.mouseTimeout),this.thumbPressed=!1;const e=!!$.e$&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,e),this.app.removeEventListener("mousemove",this.onMouseMove,e),this.$emit("mouseup",t),this.$emit("end",this.internalValue),(0,$.vZ)(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove(t){"mousemove"===t.type&&(this.thumbPressed=!0),this.internalValue=this.parseMouseMove(t)},onKeyDown(t){if(!this.isInteractive)return;const e=this.parseKeyDown(t,this.internalValue);null==e||e<this.minValue||e>this.maxValue||(this.internalValue=e,this.$emit("change",e))},onSliderClick(t){if(this.noClick)return void(this.noClick=!1);const e=this.$refs.thumb;e.focus(),this.onMouseMove(t),this.$emit("change",this.internalValue)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},parseMouseMove(t){const e=this.vertical?"top":"left",i=this.vertical?"height":"width",s=this.vertical?"clientY":"clientX",{[e]:n,[i]:a}=this.$refs.track.getBoundingClientRect(),o="touches"in t?t.touches[0][s]:t[s];let r=Math.min(Math.max((o-n-this.startOffset)/a,0),1)||0;return this.vertical&&(r=1-r),this.$vuetify.rtl&&(r=1-r),parseFloat(this.min)+r*(this.maxValue-this.minValue)},parseKeyDown(t,e){if(!this.isInteractive)return;const{pageup:i,pagedown:s,end:n,home:a,left:o,right:r,down:l,up:h}=$.Do;if(![i,s,n,a,o,r,l,h].includes(t.keyCode))return;t.preventDefault();const u=this.stepNumeric||1,c=(this.maxValue-this.minValue)/u;if([o,r,l,h].includes(t.keyCode)){const i=this.$vuetify.rtl?[o,h]:[r,h],s=i.includes(t.keyCode)?1:-1,n=t.shiftKey?3:t.ctrlKey?2:1;e+=s*u*n}else if(t.keyCode===a)e=this.minValue;else if(t.keyCode===n)e=this.maxValue;else{const i=t.keyCode===s?1:-1;e-=i*u*(c>100?c/10:10)}return e},roundValue(t){if(!this.stepNumeric)return t;const e=this.step.toString().trim(),i=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0,s=this.minValue%this.stepNumeric,n=Math.round((t-s)/this.stepNumeric)*this.stepNumeric+s;return parseFloat(Math.min(n,this.maxValue).toFixed(i))}}}),T=i(9258),_=i(3687),I=i(6669),D=(0,y.Z)(I.Z).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}}),M=i(6313),P=i(7953),Z=i(2082),V=i(6746),E=function(){var t=this,e=t._self._c;return t.volume?e(h.Z,{directives:[{def:V.Z,name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"ma-0 pa-0 full-height touch-less",class:t.backgroundColor,attrs:{fluid:""}},[e(p.Z,{attrs:{value:t.thumbSelection.inProgressing}},[e(g.Z,{attrs:{indeterminate:"",size:"64"}})],1),t.thumbSelection.enabled?e("image-crop",{attrs:{image:t.thumbSelection.imageURL},on:{crop:t.onCropUpdate,close:t.onCropClose}}):e("div",[e(b.cu,[t.showToolbars?e(M.Z,{staticClass:"settings full-width tool-bar-glass",staticStyle:{position:"fixed",top:"0"},attrs:{dense:"",elevation:"1"}},[e(a.Z,{attrs:{icon:"",to:{name:"book",params:{bookID:t.volume.book_id}}}},[e(u.Z,[t._v("mdi-arrow-left")])],1),e(P.qW,[t._v(t._s(t.volume.book_name)+" / "+t._s(t.volume.title))]),e(_.Z),e(a.Z,{attrs:{icon:""},on:{click:function(e){return t.rotate(-90)}}},[e(u.Z,[t._v("mdi-file-rotate-left")])],1),e(a.Z,{attrs:{icon:""},on:{click:function(e){return t.rotate(90)}}},[e(u.Z,[t._v("mdi-file-rotate-right")])],1),e(a.Z,{attrs:{icon:""},on:{click:t.enableThumbSelection}},[e(u.Z,[t._v("mdi-format-wrap-square")])],1),e(a.Z,{attrs:{icon:""},on:{click:function(e){t.showThumbExplorer=!0}}},[e(u.Z,[t._v("mdi-view-grid")])],1),t.fullScreenEnabled?e(a.Z,{attrs:{icon:""},on:{click:t.toggleFullScreen}},[e(u.Z,[t._v(t._s(t.fullScreenIcon))])],1):t._e(),e(a.Z,{attrs:{icon:""},on:{click:function(e){t.showSettings=!0}}},[e(u.Z,[t._v("mdi-cog")])],1)],1):t._e()],1),e("div",{staticClass:"full-height"},[e("page-reader",{attrs:{spreads:t.spreads,page:t.pageNumber,"read-mode":t.readMode,"image-rotate":t.rotateImage},on:{"center-click":function(e){t.showToolbars=!t.showToolbars},"update:page":function(e){t.pageNumber=e},"update:imageRotate":function(e){t.rotateImage=e},"update:image-rotate":function(e){t.rotateImage=e},"jump-next-stop":t.onJumpNextStop,"jump-prev-stop":t.onJumpPrevStop}})],1),e(b.V,[t.showToolbars?e(M.Z,{staticClass:"settings full-width tool-bar-glass",staticStyle:{position:"fixed",bottom:"0"},attrs:{dense:"",elevation:"1"}},[e(f.Z,{attrs:{justify:"center"}},[e(l.Z,{staticClass:"px-0"},[e(v.Z,{attrs:{active:t.loadingVolume,indeterminate:"",height:"6",color:"deep-orange"}}),e(S,{staticClass:"align-center px-4",attrs:{"hide-details":"","thumb-label":"",min:"1",max:t.volume.page_count},scopedSlots:t._u([{key:"prepend",fn:function(){return[e(Z.Z,{attrs:{top:"","open-delay":"200"},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e(u.Z,t._g({attrs:{disabled:!t.volume.prev_volume_id||t.loadingVolume,color:"secondary"},on:{click:t.prevVolume}},i),[t._v(" mdi-skip-previous-circle ")])]}}],null,!1,829944167)},[e("span",[t._v(t._s(t.$t("read.prev_volume")))])])]},proxy:!0},{key:"append",fn:function(){return[e("div",{staticClass:"d-flex align-center"},[e(c.Z,[t._v(t._s(t.pageNumber))]),e(c.Z,{staticClass:"px-1"},[t._v("/")]),e(c.Z,[t._v(t._s(t.volume.page_count))]),e(Z.Z,{attrs:{top:"","open-delay":"200"},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e(u.Z,t._g({staticClass:"ml-2",attrs:{disabled:!t.volume.next_volume_id||t.loadingVolume,color:"secondary"},on:{click:t.nextVolume}},i),[t._v(" mdi-skip-next-circle ")])]}}],null,!1,2429792943)},[e("span",[t._v(t._s(t.$t("read.next_volume")))])])],1)]},proxy:!0}],null,!1,4159737468),model:{value:t.goToPage,callback:function(e){t.goToPage=e},expression:"goToPage"}})],1)],1)],1):t._e()],1),e("thumb-explorer-dialog",{attrs:{page:t.pageNumber,thumbs:t.thumbs},on:{go:t.goTo},model:{value:t.showThumbExplorer,callback:function(e){t.showThumbExplorer=e},expression:"showThumbExplorer"}}),e(n,{attrs:{"close-on-content-click":!1,"max-width":"500",scrollable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation()}},model:{value:t.showSettings,callback:function(e){t.showSettings=e},expression:"showSettings"}},[e(o.Z,[e(M.Z,{attrs:{dark:"",color:"primary"}},[e(a.Z,{attrs:{icon:"",dark:""},on:{click:function(e){t.showSettings=!1}}},[e(u.Z,[t._v("mdi-close")])],1),e(P.qW,[t._v(t._s(t.$t("read.settings.title")))])],1),e(r.ZB,{staticClass:"pa-0"},[e(d.Z,{staticClass:"full-height full-width"},[e(D,{staticClass:"font-weight-black text-h6"},[t._v(" "+t._s(t.$t("read.settings.display"))+" ")]),e(m.Z,[e("settings-select",{attrs:{items:t.readModes,label:t.$t("read.settings.reading_mode")},model:{value:t.readMode,callback:function(e){t.readMode=e},expression:"readMode"}})],1),e(m.Z,[e("settings-select",{attrs:{items:t.backgroundColors,label:t.$t("read.settings.background_color")},model:{value:t.backgroundColor,callback:function(e){t.backgroundColor=e},expression:"backgroundColor"}})],1),e(m.Z,[e("settings-switch",{attrs:{label:t.$t("read.settings.always_fullscreen"),disabled:!t.fullScreenEnabled},model:{value:t.alwaysFullScreen,callback:function(e){t.alwaysFullScreen=e},expression:"alwaysFullScreen"}})],1)],1)],1)],1)],1),e(T.Z,{staticClass:"mt-12",attrs:{timeout:t.jumpConfirmationDelay,top:"",color:"rgba(0, 0, 0, 0.8)","multi-line":""},model:{value:t.jumpToPrevBook,callback:function(e){t.jumpToPrevBook=e},expression:"jumpToPrevBook"}},[e("div",{staticClass:"body-1 pa-6"},[e("p",[t._v(t._s(t.$t("read.beginning_of_book")))]),t.volume.prev_volume_id?e("p",[t._v(t._s(t.$t("read.move_previous")))]):t._e()])]),e(T.Z,{staticClass:"mt-12",attrs:{timeout:t.jumpConfirmationDelay,top:"",color:"rgba(0, 0, 0, 0.8)","multi-line":""},model:{value:t.jumpToNextBook,callback:function(e){t.jumpToNextBook=e},expression:"jumpToNextBook"}},[e("div",{staticClass:"text-body-1 pa-6"},[e("p",[t._v(t._s(t.$t("read.end_of_book")))]),t.volume.next_volume_id?e("p",[t._v(t._s(t.$t("read.move_next")))]):e("p",[t._v(t._s(t.$t("read.move_next_exit")))])])])],1)],1):t._e()},z=[],L=i(7280),B=i(6656),A=i(2240),F=i(2973),W=i(3385),N=W.y.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return W.y.options.computed.classes.call(this)}},methods:{genData:W.y.options.methods.genData}}),R=L.Z.extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>t>0},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},provide(){return{parentTheme:this.theme}},data(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes(){return{...L.Z.options.computed.classes.call(this),"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical}},isDark(){return this.dark||!this.light},isVertical(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height(t,e){t!==e&&t&&(this.internalHeight=t)},cycle(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created(){this.$attrs.hasOwnProperty("hide-controls")&&(0,C.fK)("hide-controls",':show-arrows="false"',this)},mounted(){this.startTimeout()},methods:{genControlIcons(){return this.isVertical?null:L.Z.options.methods.genControlIcons.call(this)},genDelimiters(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems(){const t=this.items.length,e=[];for(let i=0;i<t;i++){const s=this.$createElement(B.Z,{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",i+1,t)},props:{icon:!0,small:!0,value:this.getValue(this.items[i],i)},key:i},[this.$createElement(A.Z,{props:{size:18}},this.delimiterIcon)]);e.push(s)}return this.$createElement(N,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:t=>{this.internalValue=t}}},e)},genProgress(){return this.$createElement(F.Z,{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render(t){const e=L.Z.options.render.call(this,t);return e.data.style=`height: ${(0,$.kb)(this.height)};`,this.hideDelimiters||e.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&e.children.push(this.genProgress()),e}}),H=i(352),j=i(5495),O=i(8860);const q=(0,y.Z)(H.Z,O.Z);var X=q.extend().extend({name:"v-carousel-item",inject:{parentTheme:{default:{isDark:!1}}},provide(){return{theme:this.parentTheme}},inheritAttrs:!1,methods:{genDefaultSlot(){return[this.$createElement(j.Z,{staticClass:"v-carousel__item",props:{...this.$attrs,height:this.windowGroup.internalHeight},on:this.$listeners,scopedSlots:{placeholder:this.$scopedSlots.placeholder}},(0,$.z9)(this))]},genWindowItem(){const{tag:t,data:e}=this.generateRouteLink();return e.staticClass="v-window-item",e.directives.push({name:"show",value:this.isActive}),this.$createElement(t,e,this.genDefaultSlot())}}}),U=i(4802),Y=function(){var t=this,e=t._self._c;return e("div",{directives:[{def:V.Z,name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"},{def:U.Z,name:"touch",rawName:"v-touch",value:t.touch,expression:"touch"}]},[e(R,{attrs:{"show-arrows":!1,continuous:!1,reverse:t.flipDirection,vertical:t.vertical,"hide-delimiters":"",touchless:"",height:"100%"},model:{value:t.carouselPage,callback:function(e){t.carouselPage=e},expression:"carouselPage"}},t._l(t.spreads,(function(i,s){return e(X,{key:`spread${s}`,staticClass:"full-height",attrs:{eager:t.eagerLoad(s),"active-class":"active-carousel"}},[e("div",{class:`full-height d-flex flex-row${t.flipDirection?"-reverse":""} px-0 mx-0`},[e("div",{ref:`container${s}`,refInFor:!0,staticClass:"d-flex",class:`${t.carouselItems[s].containerClass} ${t.imageContainerTransition}`,style:{transform:`translate(${t.imageTransformX}px, ${t.imageTransformY}px) rotate(${t.imageRotate}deg)`}},t._l(i,(function(i,n){return e("img",{key:`spread${s}-${n}`,staticClass:"img-fit-all",class:t.carouselItems[s].imageClass,attrs:{alt:i.name,src:i.url},on:{load:function(e){return t.imageLoaded(e,s,n)}}})})),0)])])})),1),t.vertical?t._e():e("div",{staticClass:"left-quarter",staticStyle:{"z-index":"1"},on:{click:function(e){return t.turnLeft()}}}),t.vertical?t._e():e("div",{staticClass:"right-quarter",staticStyle:{"z-index":"1"},on:{click:function(e){return t.turnRight()}}}),t.vertical?e("div",{staticClass:"top-quarter",staticStyle:{"z-index":"1"},on:{click:function(e){return t.prev()}}}):t._e(),t.vertical?e("div",{staticClass:"bottom-quarter",staticStyle:{"z-index":"1"},on:{click:function(e){return t.next()}}}):t._e(),e("div",{class:""+(t.vertical?"center-vertical":"center-horizontal"),staticStyle:{"z-index":"1"},on:{click:function(e){return t.centerClick()}}})],1)},K=[];const J={" ":{display:"Space",exec:t=>{t.turnNext()}},ArrowLeft:{display:"←",exec:t=>{t.turnLeft()}},PageDown:{display:"PgDn",exec:t=>{t.next()}},ArrowRight:{display:"→",exec:t=>{t.turnRight()}},PageUp:{display:"PgUp",exec:t=>{t.prev()}}},G=20;var Q={data:function(){return{carouselPage:0,carouselItems:[],vertical:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,touch:{move:this.onTouchMove,start:this.onTouchStart,end:this.onTouchEnd,startTransformX:0,startTransformY:0,disableTransition:!1},imageTransformX:0,imageTransformY:0}},props:{spreads:{type:Array,required:!0},page:{type:Number,required:!0},readMode:{type:String,required:!0},imageRotate:{type:Number,default:0}},created(){console.debug("create page reader"),window.addEventListener("keydown",this.keyPressed)},destroyed(){console.debug("destroy page reader"),window.removeEventListener("keydown",this.keyPressed)},methods:{keyPressed(t){J[t.key]?.exec(this)},turnNext:function(){let t=this.flipDirection?this.moveWindowLeft():this.moveWindowRight();t&&this.next()},turnLeft:function(){this.moveWindowLeft()&&(this.flipDirection?this.next():this.prev())},turnRight:function(){this.moveWindowRight()&&(this.flipDirection?this.prev():this.next())},next:function(){this.hasNext()?(this.setCarouselPage(this.carouselPage+1),this.emitUpdatePageEvent()):this.$emit("jump-next-stop")},prev:function(){this.hasPrev()?(this.setCarouselPage(this.carouselPage-1),this.emitUpdatePageEvent()):this.$emit("jump-prev-stop")},hasNext:function(){return this.carouselPage<this.spreads.length-1},hasPrev:function(){return this.carouselPage>0},centerClick:function(){this.$emit("center-click")},eagerLoad(t){const e=Math.abs(this.carouselPage-t)<=2;return e},emitUpdatePageEvent(){const t=this.spreads[this.carouselPage],e=t[t.length-1];this.$emit("update:page",e.page),this.$emit("update:image-rotate",0)},toSpreadIndex(t){for(let e=0;e<this.spreads.length;e++)for(let i=0;i<this.spreads[e].length;i++)if(this.spreads[e][i].page===t)return e;return t-1},imageLoaded(t,e,i){let s=t.target;this.carouselItems[e].pages[i]={width:s.naturalWidth,height:s.naturalHeight},console.debug(`image[${e}][${i}] load w=${s.naturalWidth} h=${s.naturalHeight}`),this.updateCarouselClass(e)},getCarouselDimensions(t){let e=0,i=0;for(const s of t.pages){if(null==s.width)return;e+=s.width,s.height>i&&(i=s.height)}return{width:e,height:i}},updateCarouselClass(t){let e=this.carouselItems[t];if(!e)return;const i=this.getCarouselDimensions(e);if(!i)return;const s=this.windowWidth/this.windowHeight,n=i.width/i.height;n>s?(e.imageClass="img-fit-height",e.containerClass="justify-start"):(e.imageClass="img-fit-screen",e.containerClass="justify-center"),console.debug(`update carousel[${t}] class=${e.imageClass}`),this.$set(this.carouselItems,t,e)},onResize(){const t=window.innerWidth/this.windowWidth;this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight;let e=this.imageTransformX*t,i=this.imageTransformY*t;this.transformImageContainer(e,i),this.updateCarouselClass(this.carouselPage)},onTouchMove(t){const e=t.touchmoveX-t.touchstartX;this.transformImageContainer(this.touch.startTransformX+e,0)},onTouchStart(){this.touch.startTransformX=this.imageTransformX,this.touch.startTransformY=this.imageTransformY,this.touch.disableTransition=!0},onTouchEnd(){this.touch.disableTransition=!1},transformImageContainer(t,e){const i=this.$refs[`container${this.carouselPage}`];if(i.length<=0)return;let s=i[0];const n=this.flipDirection?Math.max(0,s.scrollWidth-this.windowWidth):0,a=this.flipDirection?0:Math.min(0,this.windowWidth-s.scrollWidth),o=Math.max(a,Math.min(n,t)),r=e,l=this.imageTransformX-o,h=this.imageTransformY-r;return o==this.imageTransformX&&r==this.imageTransformY||(console.debug(`image container tranform(${o},${r})`),this.imageTransformX=o,this.imageTransformY=r),{dx:l,dy:h}},moveWindowLeft(){let t=this.transformImageContainer(this.windowWidth+this.imageTransformX,0);return Math.abs(t.dx)<G},moveWindowRight(){let t=this.transformImageContainer(-this.windowWidth+this.imageTransformX,0);return Math.abs(t.dx)<G},setCarouselPage(t){t!=this.carouselPage&&(this.imageTransformX=0,this.imageTransformY=0,this.touch.startTransformX=0,this.touch.startTransformY=0,this.updateCarouselClass(t),this.carouselPage=t)}},watch:{page:{handler(t){this.setCarouselPage(this.toSpreadIndex(t)),console.log(`set carouselPage = ${this.carouselPage} from page ${t}`)},immediate:!0},spreads:{handler(t){console.debug("compute carouselClass");let e=[];for(const i of t)e.push({pages:Array(i.length).fill({width:null,height:null}),imageClass:"img-fit-original",containerClass:"justify-center"});this.carouselItems=e},immediate:!0}},computed:{imageContainerTransition(){return this.touch.disableTransition?"":"image-container-transision"},flipDirection(){return"rtl"===this.readMode}}},tt=Q,et=i(1001),it=(0,et.Z)(tt,Y,K,!1,null,"ab6fad4e",null),st=it.exports,nt=i(5372),at=function(){var t=this,e=t._self._c;return e(s.Z,{attrs:{scrollable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation()}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e(o.Z,{attrs:{"max-height":.9*t.$vuetify.breakpoint.height,dark:""}},[e(r.EB,{staticClass:"justify-center"},[e(nt.Z,{attrs:{"total-visible":t.perPage,length:Math.ceil(t.thumbs.length/t.perPage)},model:{value:t.explorerPage,callback:function(e){t.explorerPage=e},expression:"explorerPage"}})],1),e(r.ZB,[e(h.Z,{attrs:{fluid:""}},[e(f.Z,{staticClass:"mb-2 align-center justify-space-around"},t._l(t.visibleThumbs,(function(i){return e("div",{key:i.url,staticClass:"d-flex flex-column justify-center image-container"},[e(j.Z,{staticClass:"ma-2",staticStyle:{cursor:"pointer"},attrs:{src:i.url,"aspect-ratio":"0.7071",contain:"",height:"200",width:"140"},on:{click:function(e){return t.goTo(i.page)}}}),e("div",{staticClass:"white--text text-center font-weight-bold"},[t._v(" "+t._s(i.page)+" ")])],1)})),0)],1)],1)],1)],1)},ot=[],rt={props:{value:{type:Boolean},thumbs:{type:Array,required:!0},perPage:{type:Number,default:8},page:{type:Number,default:1}},data(){return{explorerPage:1,show:!1}},watch:{value(t){this.show=t},show(t){this.$emit("input",t)},page:{handler(t){this.explorerPage=Math.ceil(t/this.perPage)},immediate:!0}},computed:{visibleThumbs(){const t=(this.explorerPage-1)*this.perPage,e=this.explorerPage*this.perPage;return this.thumbs.slice(t,e)}},methods:{goTo(t){this.$emit("go",t)}}},lt=rt,ht=(0,et.Z)(lt,at,ot,!1,null,"986ac146",null),ut=ht.exports,ct=(i(2838),i(4127)),dt=ct.Z,mt=i(4568),pt=mt.Z,gt=i(7069),vt=i(144),ft=i(6878),bt=i(1767),wt=vt.ZP.extend({name:"v-simple-checkbox",functional:!0,directives:{Ripple:gt.Z},props:{...ft.Z.options.props,...I.Z.options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(t,{props:e,data:i,listeners:s}){const n=[];let a=e.offIcon;if(e.indeterminate?a=e.indeterminateIcon:e.value&&(a=e.onIcon),n.push(t(u.Z,ft.Z.options.methods.setTextColor(e.value&&e.color,{props:{disabled:e.disabled,dark:e.dark,light:e.light}}),a)),e.ripple&&!e.disabled){const i=t("div",ft.Z.options.methods.setTextColor(e.color,{staticClass:"v-input--selection-controls__ripple",directives:[{def:gt.Z,name:"ripple",value:{center:!0}}]}));n.push(i)}return t("div",(0,bt.ZP)(i,{class:{"v-simple-checkbox":!0,"v-simple-checkbox--disabled":e.disabled},on:{click:t=>{t.stopPropagation(),i.on&&i.on.input&&!e.disabled&&(0,$.TI)(i.on.input).forEach((t=>t(!e.value)))}}}),[t("div",{staticClass:"v-input--selection-controls__input"},n)])}}),yt=i(9223),xt=yt.Z,kt=D,$t=i(5187),Ct=i(4813),St=(0,y.Z)(ft.Z,I.Z).extend({name:"v-select-list",directives:{ripple:gt.Z},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map((t=>this.getValue(t)))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const t={attrs:{role:void 0},on:{mousedown:t=>t.preventDefault()}};return this.$createElement(m.Z,t,[this.genTileContent(this.noDataText)])}},methods:{genAction(t,e){return this.$createElement($t.Z,[this.$createElement(wt,{props:{color:this.color,value:e,ripple:!1},on:{input:()=>this.$emit("select",t)}})])},genDivider(t){return this.$createElement(xt,{props:t})},genFilteredText(t){if(t=t||"",!this.searchInput||this.noFilter)return(0,$.r)(t);const{start:e,middle:i,end:s}=this.getMaskedCharacters(t);return`${(0,$.r)(e)}${this.genHighlight(i)}${(0,$.r)(s)}`},genHeader(t){return this.$createElement(kt,{props:t},t.header)},genHighlight(t){return`<span class="v-list-item__mask">${(0,$.r)(t)}</span>`},getMaskedCharacters(t){const e=(this.searchInput||"").toString().toLocaleLowerCase(),i=t.toLocaleLowerCase().indexOf(e);if(i<0)return{start:t,middle:"",end:""};const s=t.slice(0,i),n=t.slice(i,i+e.length),a=t.slice(i+e.length);return{start:s,middle:n,end:a}},genTile({item:t,index:e,disabled:i=null,value:s=!1}){s||(s=this.hasItem(t)),t===Object(t)&&(i=null!==i?i:this.getDisabled(t));const n={attrs:{"aria-selected":String(s),id:`list-item-${this._uid}-${e}`,role:"option"},on:{mousedown:t=>{t.preventDefault()},click:()=>i||this.$emit("select",t)},props:{activeClass:this.tileActiveClass,disabled:i,ripple:!0,inputValue:s}};if(!this.$scopedSlots.item)return this.$createElement(m.Z,n,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(t,s):null,this.genTileContent(t,e)]);const a=this,o=this.$scopedSlots.item({parent:a,item:t,attrs:{...n.attrs,...n.props},on:n.on});return this.needsTile(o)?this.$createElement(m.Z,n,o):o},genTileContent(t,e=0){const i=this.genFilteredText(this.getText(t));return this.$createElement(Ct.km,[this.$createElement(Ct.V9,{domProps:{innerHTML:i}})])},hasItem(t){return this.parsedItems.indexOf(this.getValue(t))>-1},needsTile(t){return 1!==t.length||null==t[0].componentOptions||"v-list-item"!==t[0].componentOptions.Ctor.options.name},getDisabled(t){return Boolean((0,$.qF)(t,this.itemDisabled,!1))},getText(t){return String((0,$.qF)(t,this.itemText,t))},getValue(t){return(0,$.qF)(t,this.itemValue,this.getText(t))}},render(){const t=[],e=this.items.length;for(let i=0;i<e;i++){const e=this.items[i];this.hideSelected&&this.hasItem(e)||(null==e?t.push(this.genTile({item:e,index:i})):e.header?t.push(this.genHeader(e)):e.divider?t.push(this.genDivider(e)):t.push(this.genTile({item:e,index:i})))}return t.length||t.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&t.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&t.push(this.$slots["append-item"]),this.$createElement(d.Z,{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},t)}}),Tt=i(9780),_t=i(6174),It=i(908),Dt=vt.ZP.extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}});const Mt={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},Pt=(0,y.Z)(Tt.Z,_t.Z,It.Z,Dt);var Zt=Pt.extend().extend({name:"v-select",directives:{ClickOutside:k.Z},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>Mt},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...Tt.Z.options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return`list-${this._uid}`},computedCounterValue(){var t;const e=this.multiple?this.selectedItems:(null!==(t=this.getText(this.selectedItems[0]))&&void 0!==t?t:"").toString();return"function"===typeof this.counterValue?this.counterValue(e):e.length},directives(){return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional,include:()=>this.getOpenDependentElements()}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const t=this.$vnode&&this.$vnode.context.$options._scopeId,e=t?{[t]:!0}:{};return{attrs:{...e,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&(0,C.N6)("assert: staticList should not be called if slots are used"),this.$createElement(St,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let t="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(t)&&(t=t.reduce(((t,e)=>(t[e.trim()]=!0,t)),{})),{...Mt,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:t.offsetY?1:0,...t}}},watch:{internalValue(t){this.initialValue=t,this.setSelectedItems(),this.multiple&&this.$nextTick((()=>{var t;null===(t=this.$refs.menu)||void 0===t||t.updateDimensions()}))},isMenuActive(t){window.setTimeout((()=>this.onMenuActiveChange(t)))},items:{immediate:!0,handler(t){this.cacheItems&&this.$nextTick((()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(t))})),this.setSelectedItems()}}},methods:{blur(t){Tt.Z.options.methods.blur.call(this,t),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1,this.setMenuIndex(-1)},activateMenu(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:null),this.setMenuIndex(-1),this.$nextTick((()=>this.$refs.input&&this.$refs.input.focus())),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(t){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(t.target))&&this.$el&&!this.$el.contains(t.target)&&t.target!==this.$el},filterDuplicates(t){const e=new Map;for(let i=0;i<t.length;++i){const s=t[i];if(null==s)continue;if(s.header||s.divider){e.set(s,s);continue}const n=this.getValue(s);!e.has(n)&&e.set(n,s)}return Array.from(e.values())},findExistingIndex(t){const e=this.getValue(t);return(this.internalValue||[]).findIndex((t=>this.valueComparator(this.getValue(t),e)))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(t,e){const i=this.isDisabled||this.getDisabled(t),s=!i&&this.isInteractive;return this.$createElement(dt,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&s,disabled:i,inputValue:e===this.selectedIndex,small:this.smallChips},on:{click:t=>{s&&(t.stopPropagation(),this.selectedIndex=e)},"click:close":()=>this.onChipInput(t)},key:JSON.stringify(this.getValue(t))},this.getText(t))},genCommaSelection(t,e,i){const s=e===this.selectedIndex&&this.computedColor,n=this.isDisabled||this.getDisabled(t);return this.$createElement("div",this.setTextColor(s,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":n},key:JSON.stringify(this.getValue(t))}),`${this.getText(t)}${i?"":", "}`)},genDefaultSlot(){const t=this.genSelections(),e=this.genInput();return Array.isArray(t)?t.push(e):(t.children=t.children||[],t.children.push(e)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,t,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(t,e,i){const s=w.Z.options.methods.genIcon.call(this,t,e,i);return"append"===t&&(s.children[0].data=(0,bt.ZP)(s.children[0].data,{attrs:{tabindex:s.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),s},genInput(){const t=Tt.Z.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data=(0,bt.ZP)(t.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":(0,$.vO)(this.$refs.menu,"activeTile.id"),autocomplete:(0,$.vO)(t.data,"attrs.autocomplete","off"),placeholder:this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?void 0:this.placeholder},on:{keypress:this.onKeyPress}}),t},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const t=Tt.Z.options.methods.genInputSlot.call(this);return t.data.attrs={...t.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},t},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const t=["prepend-item","no-data","append-item"].filter((t=>this.$slots[t])).map((t=>this.$createElement("template",{slot:t},this.$slots[t])));return this.$createElement(St,{...this.listData},t)},genMenu(){const t=this.$_menuProps;return t.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?t.attach=this.$el:t.attach=this.attach,this.$createElement(pt,{attrs:{role:void 0},props:t,on:{input:t=>{this.isMenuActive=t,this.isFocused=t},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections(){let t=this.selectedItems.length;const e=new Array(t);let i;i=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(t--)e[t]=i(this.selectedItems[t],t,t===e.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},e)},genSlotSelection(t,e){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:t,index:e,select:t=>{t.stopPropagation(),this.selectedIndex=e},selected:e===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(t){return(0,$.qF)(t,this.itemDisabled,!1)},getText(t){return(0,$.qF)(t,this.itemText,t)},getValue(t){return(0,$.qF)(t,this.itemValue,this.getText(t))},onBlur(t){t&&this.$emit("blur",t)},onChipInput(t){this.multiple?this.selectItem(t):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(t){this.isInteractive&&(this.isAppendInner(t.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",t))},onEscDown(t){t.preventDefault(),this.isMenuActive&&(t.stopPropagation(),this.isMenuActive=!1)},onKeyPress(t){if(this.multiple||!this.isInteractive||this.disableLookup)return;const e=1e3,i=performance.now();i-this.keyboardLookupLastTime>e&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=t.key.toLowerCase(),this.keyboardLookupLastTime=i;const s=this.allItems.findIndex((t=>{var e;const i=(null!==(e=this.getText(t))&&void 0!==e?e:"").toString();return i.toLowerCase().startsWith(this.keyboardLookupPrefix)})),n=this.allItems[s];-1!==s&&(this.lastItem=Math.max(this.lastItem,s+5),this.setValue(this.returnObject?n:this.getValue(n)),this.$nextTick((()=>this.$refs.menu.getTiles())),setTimeout((()=>this.setMenuIndex(s))))},onKeyDown(t){if(this.isReadonly&&t.keyCode!==$.Do.tab)return;const e=t.keyCode,i=this.$refs.menu;return this.$emit("keydown",t),i?(this.isMenuActive&&[$.Do.up,$.Do.down,$.Do.home,$.Do.end,$.Do.enter].includes(e)&&this.$nextTick((()=>{i.changeListIndex(t),this.$emit("update:list-index",i.listIndex)})),[$.Do.enter,$.Do.space].includes(e)&&this.activateMenu(),!this.isMenuActive&&[$.Do.up,$.Do.down,$.Do.home,$.Do.end].includes(e)?this.onUpDown(t):e===$.Do.esc?this.onEscDown(t):e===$.Do.tab?this.onTabDown(t):e===$.Do.space?this.onSpaceDown(t):void 0):void 0},onMenuActiveChange(t){if(this.multiple&&!t||this.getMenuIndex()>-1)return;const e=this.$refs.menu;if(e&&this.isDirty){this.$refs.menu.getTiles();for(let t=0;t<e.tiles.length;t++)if("true"===e.tiles[t].getAttribute("aria-selected")){this.setMenuIndex(t);break}}},onMouseUp(t){this.hasMouseDown&&3!==t.which&&this.isInteractive&&this.isAppendInner(t.target)&&this.$nextTick((()=>this.isMenuActive=!this.isMenuActive)),Tt.Z.options.methods.onMouseUp.call(this,t)},onScroll(){if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;const t=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;t&&(this.lastItem+=20)}else requestAnimationFrame((()=>this.getContent().scrollTop=0))},onSpaceDown(t){t.preventDefault()},onTabDown(t){const e=this.$refs.menu;if(!e)return;const i=e.activeTile;!this.multiple&&i&&this.isMenuActive?(t.preventDefault(),t.stopPropagation(),i.click()):this.blur(t)},onUpDown(t){const e=this.$refs.menu;if(!e)return;if(t.preventDefault(),this.multiple)return this.activateMenu();const i=t.keyCode;e.isBooted=!0,window.requestAnimationFrame((()=>{if(e.getTiles(),!e.hasClickableTiles)return this.activateMenu();switch(i){case $.Do.up:e.prevTile();break;case $.Do.down:e.nextTile();break;case $.Do.home:e.firstTile();break;case $.Do.end:e.lastTile();break}this.selectItem(this.allItems[this.getMenuIndex()])}))},selectItem(t){if(this.multiple){const e=(this.internalValue||[]).slice(),i=this.findExistingIndex(t);if(-1!==i?e.splice(i,1):e.push(t),this.setValue(e.map((t=>this.returnObject?t:this.getValue(t)))),this.hideSelected)this.setMenuIndex(-1);else{const e=this.allItems.indexOf(t);~e&&(this.$nextTick((()=>this.$refs.menu.getTiles())),setTimeout((()=>this.setMenuIndex(e))))}}else this.setValue(this.returnObject?t:this.getValue(t)),this.isMenuActive=!1},setMenuIndex(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},setSelectedItems(){const t=[],e=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const i of e){const e=this.allItems.findIndex((t=>this.valueComparator(this.getValue(t),this.getValue(i))));e>-1&&t.push(this.allItems[e])}this.selectedItems=t},setValue(t){this.valueComparator(t,this.internalValue)||(this.internalValue=t,this.$emit("change",t))},isAppendInner(t){const e=this.$refs["append-inner"];return e&&(e===t||e.contains(t))}}}),Vt=function(){var t=this,e=t._self._c;return e(f.Z,{attrs:{"justify-md":"center","justify-sm":"start"}},[e(l.Z,{staticClass:"text-left",attrs:{cols:"5","align-self":"center"}},[e("span",{},[t._v(t._s(t.label))])]),e(l.Z,{attrs:{cols:"7"}},[e(Zt,{attrs:{filled:"",dense:"",solo:"",items:t.items,"hide-details":"true"},on:{input:t.updateInput,change:t.updateInput},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)],1)},Et=[],zt={props:{items:{},label:{type:String},value:{type:[String,Number]},display:{type:String}},data(){return{input:""}},watch:{value:{handler(t){this.input=t},immediate:!0}},methods:{updateInput(){this.$emit("input",this.input)}}},Lt=zt,Bt=(0,et.Z)(Lt,Vt,Et,!1,null,null,null),At=Bt.exports,Ft=(i(7393),i(596)),Wt=Ft.Z.extend({name:"v-switch",directives:{Touch:U.Z},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...w.Z.options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...e}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(b.b0,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(g.Z,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(t){(t.keyCode===$.Do.left&&this.isActive||t.keyCode===$.Do.right&&!this.isActive)&&this.onChange()}}}),Nt=function(){var t=this,e=t._self._c;return e(f.Z,{attrs:{"justify-md":"center","justify-sm":"start"}},[e(l.Z,{attrs:{cols:"5","align-self":"center"}},[e("span",[t._v(t._s(t.label))])]),e(l.Z,{staticClass:"text-right",attrs:{cols:"4","align-self":"center"}},[e("span",[t._v(t._s(t.status))])]),e(l.Z,{staticClass:"pa-0",attrs:{cols:"3","align-self":"center"}},[e(Wt,{staticClass:"float-right",attrs:{dense:"",disabled:t.disabled},on:{input:t.updateInput,change:t.updateInput},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)],1)},Rt=[],Ht={props:{label:{type:String},value:{type:Boolean},status:{type:String},disabled:{type:Boolean,default:!1}},data(){return{input:""}},watch:{value:{handler(t){this.input=t},immediate:!0}},methods:{updateInput(){this.$emit("input",this.input)}}},jt=Ht,Ot=(0,et.Z)(jt,Nt,Rt,!1,null,null,null),qt=Ot.exports,Xt=(0,y.Z)(N,ft.Z).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes(){return{...N.options.computed.classes.call(this),"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile,...this.themeClasses}}},methods:{genData(){const t=this.setTextColor(this.color,{...N.options.methods.genData.call(this)});return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}}),Ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ma-0 pa-0 main"},[e("dragable-resizable",{attrs:{w:t.renderWidth,h:t.renderHeight,resizable:!1,z:1,"drag-handle":".drag-image","class-name":"vdr-borderless"}},[e("img",{staticClass:"drag-image",style:t.imageStyle,attrs:{src:t.image},on:{load:t.onLoad}}),e("dragable-resizable",{staticClass:"dragable-crop-area",attrs:{w:t.setCropWidth,h:t.setCropHeight,"max-width":t.renderWidth,"max-height":t.renderHeight,"lock-aspect-ratio":"",z:2,parent:"","drag-handler":".crop-area"},on:{dblclick:t.toggleCropArea},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"crop-area d-flex justify-end align-end"},[e(Xt,{attrs:{dense:""}},[e(Z.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:n}){return[e(a.Z,t._g(t._b({on:{click:function(e){return t.crop("book",i.rect)}}},"v-btn",n,!1),s),[e(u.Z,[t._v("mdi-book-open")])],1)]}}],null,!0)},[e("span",[t._v(t._s(t.$t("read.set_book_thumb")))])]),e(Z.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:n}){return[e(a.Z,t._g(t._b({on:{click:function(e){return t.crop("volume",i.rect)}}},"v-btn",n,!1),s),[e(u.Z,[t._v("mdi-image-album")])],1)]}}],null,!0)},[e("span",[t._v(t._s(t.$t("read.set_volume_thumb")))])]),e(a.Z,{on:{click:t.close}},[e(u.Z,[t._v("mdi-close")])],1),e(a.Z,{on:{click:function(e){return e.stopPropagation(),t.toggleRenderSize.apply(null,arguments)}}},[e(u.Z,[t._v("mdi-image-size-select-large")])],1)],1)],1)]}}])})],1)],1)},Yt=[],Kt=function(){var t=this,e=t._self._c;return e("div",{directives:[{def:V.Z,name:"resize",rawName:"v-resize",value:t.checkParentSize,expression:"checkParentSize"}],class:[{[t.classNameActive]:t.enabled,[t.classNameDragging]:t.dragging,[t.classNameResizing]:t.resizing,[t.classNameDraggable]:t.draggable,[t.classNameResizable]:t.resizable},t.className],style:t.style,on:{mousedown:t.elementMouseDown,touchstart:t.elementTouchDown,dblclick:function(e){return t.$emit("dblclick",e)}}},[t._l(t.actualHandles,(function(i){return e("div",{key:i,class:[t.classNameHandle,t.classNameHandle+"-"+i],style:{display:t.enabled?"block":"none"},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.handleDown(i,e)},touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.handleTouchDown(i,e)}}},[t._t(i)],2)})),t._t("default",null,{rect:{left:t.left,top:t.top,width:t.width,height:t.height}})],2)},Jt=[];function Gt(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function Qt(t,e,i,s=1){const[n,a]="number"===typeof s?[s,s]:s,o=Math.round(e/n/t[0])*t[0],r=Math.round(i/a/t[1])*t[1];return[o,r]}function te(t,e,i){return t-e-i}function ee(t,e,i){return t-e-i}function ie(t,e,i){return null!==e&&t<e?e:null!==i&&i<t?i:t}function se(t,e,i){let s=t;const n=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((t=>Gt(s[t])));if(!Gt(s[n]))return!1;do{if(s[n](e))return!0;if(s===i)return!1;s=s.parentNode}while(s);return!1}function ne(t){const e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function ae(t,e,i){t&&(t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i)}function oe(t,e,i){t&&(t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null)}const re={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},le={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},he={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let ue=re.mouse;var ce={replace:!0,name:"draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},h:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},minWidth:{type:Number,default:0,validator:t=>t>=0},minHeight:{type:Number,default:0,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>"string"===typeof t?"auto"===t:t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter((t=>e.has(t)))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:[Boolean,Object],default:!1},scale:{type:[Number,Array],default:1,validator:t=>"number"===typeof t?t>0:2===t.length&&t[0]>0&&t[1]>0},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,handle:null,enabled:this.active,resizing:!1,dragging:!1,dragEnable:!1,resizeEnable:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxHeight&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=ne(this.$el);this.aspectFactor=("auto"!==this.w?this.w:t)/("auto"!==this.h?this.h:e),this.width="auto"!==this.w?this.w:t,this.height="auto"!==this.h?this.h:e;const[i,s]=this.getParentSize();this.parentWidth=i,this.parentHeight=s,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.active&&this.$emit("activated"),ae(document.documentElement,"mousedown",this.deselect),ae(document.documentElement,"touchend touchcancel",this.deselect)},beforeDestroy:function(){oe(document.documentElement,"mousedown",this.deselect),oe(document.documentElement,"touchstart",this.handleUp),oe(document.documentElement,"mousemove",this.move),oe(document.documentElement,"touchmove",this.move),oe(document.documentElement,"mouseup",this.handleUp),oe(document.documentElement,"touchend touchcancel",this.deselect)},methods:{resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top}},getParentSize(){if("object"==typeof this.parent)return[this.parent.width,this.parent.height];if(this.parent){const t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown(t){ue=re.touch,this.elementDown(t)},elementMouseDown(t){ue=re.mouse,this.elementDown(t)},elementDown(t){if(t instanceof MouseEvent&&1!==t.which)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(!1===this.onDragStart(t))return;if(this.dragHandle&&!se(e,this.dragHandle,this.$el)||this.dragCancel&&se(e,this.dragCancel,this.$el))return void(this.dragging=!1);this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragEnable=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),ae(document.documentElement,ue.move,this.move),ae(document.documentElement,ue.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(t){const e=t.target||t.srcElement,i=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(e)||i.test(e.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),oe(document.documentElement,ue.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown(t,e){ue=re.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&1!==e.which||!1!==this.onResizeStart(t,e)&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizeEnable=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),ae(document.documentElement,ue.move,this.handleResize),ae(document.documentElement,ue.stop,this.handleUp))},calcResizeLimits(){let t=this.minW,e=this.minH,i=this.maxW,s=this.maxH;const n=this.aspectFactor,[a,o]=this.grid,r=this.width,l=this.height,h=this.left,u=this.top,c=this.right,d=this.bottom;this.lockAspectRatio&&(t/e>n?e=t/n:t=n*e,i&&s?(i=Math.min(i,n*s),s=Math.min(s,i/n)):i?s=i/n:s&&(i=n*s)),i-=i%a,s-=s%o;const m={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(m.minLeft=h%a,m.maxLeft=h+Math.floor((r-t)/a)*a,m.minTop=u%o,m.maxTop=u+Math.floor((l-e)/o)*o,m.minRight=c%a,m.maxRight=c+Math.floor((r-t)/a)*a,m.minBottom=d%o,m.maxBottom=d+Math.floor((l-e)/o)*o,i&&(m.minLeft=Math.max(m.minLeft,this.parentWidth-c-i),m.minRight=Math.max(m.minRight,this.parentWidth-h-i)),s&&(m.minTop=Math.max(m.minTop,this.parentHeight-d-s),m.minBottom=Math.max(m.minBottom,this.parentHeight-u-s)),this.lockAspectRatio&&(m.minLeft=Math.max(m.minLeft,h-u*n),m.minTop=Math.max(m.minTop,u-h/n),m.minRight=Math.max(m.minRight,c-d*n),m.minBottom=Math.max(m.minBottom,d-c/n))):(m.minLeft=null,m.maxLeft=h+Math.floor((r-t)/a)*a,m.minTop=null,m.maxTop=u+Math.floor((l-e)/o)*o,m.minRight=null,m.maxRight=c+Math.floor((r-t)/a)*a,m.minBottom=null,m.maxBottom=d+Math.floor((l-e)/o)*o,i&&(m.minLeft=-(c+i),m.minRight=-(h+i)),s&&(m.minTop=-(d+s),m.minBottom=-(u+s)),this.lockAspectRatio&&i&&s&&(m.minLeft=Math.min(m.minLeft,-(c+i)),m.minTop=Math.min(m.minTop,-(s+d)),m.minRight=Math.min(m.minRight,-h-i),m.minBottom=Math.min(m.minBottom,-u-s))),m},move(t){this.resizing?this.handleResize(t):this.dragEnable&&this.handleDrag(t)},handleDrag(t){const e=this.axis,i=this.grid,s=this.bounds,n=this.mouseClickPosition,a=e&&"y"!==e?n.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,o=e&&"x"!==e?n.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[r,l]=Qt(i,a,o,this.scale);let h=ie(n.left-r,s.minLeft,s.maxLeft),u=ie(n.top-l,s.minTop,s.maxTop);const c=this.onDrag(h,u);if("object"==typeof c){if(c.left==h&&c.top==u)return;h=c.left,u=c.top}else if(!1===c)return;const d=ie(n.right+r,s.minRight,s.maxRight),m=ie(n.bottom+l,s.minBottom,s.maxBottom);this.left=h,this.top=u,this.right=d,this.bottom=m,this.$emit("dragging",this.left,this.top),this.dragging=!0},moveHorizontally(t){const e=Qt(this.grid,t,this.top,1),i=ie(e[0],this.bounds.minLeft,this.bounds.maxLeft);this.left=i,this.right=this.parentWidth-this.width-i},moveVertically(t){const e=Qt(this.grid,this.left,t,1),i=ie(e[1],this.bounds.minTop,this.bounds.maxTop);this.top=i,this.bottom=this.parentHeight-this.height-i},handleResize(t){let e=this.left,i=this.top,s=this.right,n=this.bottom;const a=this.mouseClickPosition,o=this.aspectFactor,r=a.mouseX-(t.touches?t.touches[0].pageX:t.pageX),l=a.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&r&&(this.widthTouched=!0),!this.heightTouched&&l&&(this.heightTouched=!0);const[h,u]=Qt(this.grid,r,l,this.scale);this.handle.includes("b")?(n=ie(a.bottom+u,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(s=this.right-(this.bottom-n)*o)):this.handle.includes("t")&&(i=ie(a.top-u,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-i)*o)),this.handle.includes("r")?(s=ie(a.right+h,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(n=this.bottom-(this.right-s)/o)):this.handle.includes("l")&&(e=ie(a.left-h,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(i=this.top-(this.left-e)/o));const c=te(this.parentWidth,e,s),d=ee(this.parentHeight,i,n);!1!==this.onResize(this.handle,e,i,c,d)&&(this.left=e,this.top=i,this.right=s,this.bottom=n,this.width=c,this.height=d,this.$emit("resizing",this.left,this.top,this.width,this.height),this.resizing=!0)},changeWidth(t){const e=Qt(this.grid,t,0,1);let i=ie(this.parentWidth-e[0]-this.left,this.bounds.minRight,this.bounds.maxRight),s=this.bottom;this.lockAspectRatio&&(s=this.bottom-(this.right-i)/this.aspectFactor);const n=te(this.parentWidth,this.left,i),a=ee(this.parentHeight,this.top,s);this.right=i,this.bottom=s,this.width=n,this.height=a},changeHeight(t){const e=Qt(this.grid,0,t,1);let i=ie(this.parentHeight-e[1]-this.top,this.bounds.minBottom,this.bounds.maxBottom),s=this.right;this.lockAspectRatio&&(s=this.right-(this.bottom-i)*this.aspectFactor);const n=te(this.parentWidth,this.left,s),a=ee(this.parentHeight,this.top,i);this.right=s,this.bottom=i,this.width=n,this.height=a},handleUp(){this.handle=null,this.resetBoundsAndMouseState(),this.dragEnable=!1,this.resizeEnable=!1,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),oe(document.documentElement,ue.move,this.handleResize)}},computed:{style(){return{transform:`translate(${this.left}px, ${this.top}px)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?le:he}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return"auto"!==this.w||this.widthTouched?this.width+"px":"auto"},computedHeight(){return"auto"!==this.h||this.heightTouched?this.height+"px":"auto"},minW(){return this.minWidth},minH(){return this.minHeight},maxW(){return this.maxWidth},maxH(){return this.maxHeight},resizingOnX(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z(t){(t>=0||"auto"===t)&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},maxWidth(){this.checkParentSize()},maxHeight(){this.checkParentSize()},lockAspectRatio(t){this.aspectFactor=t?this.width/this.height:void 0},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))},parent(){this.checkParentSize()}}},de=ce,me=(0,et.Z)(de,Kt,Jt,!1,null,"692537e6",null),pe=me.exports;const ge=210,ve=297,fe=0,be=1;var we={data(){return{show:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,naturalWidth:null,naturalHeight:null,renderWidth:null,renderHeight:null,setCropWidth:ge,setCropHeight:ve,oldCrop:null,lockAspect:ge/ve,renderSizeMode:fe}},props:{image:{type:String,required:!0}},methods:{onLoad(t){this.naturalWidth=t.target.naturalWidth,this.naturalHeight=t.target.naturalHeight,this.resizeImage(),this.show=!0;const e=this.fitInto(ge,ve,this.renderWidth,this.renderHeight);(e.width<ge||e.height<ve)&&(this.setCropWidth=e.width,this.setCropHeight=e.height)},onResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.naturalWidth&&this.resizeImage()},close(){this.$emit("close")},crop(t,e){const i={left:e.left/this.renderWidth,top:e.top/this.renderHeight,width:e.width/this.renderWidth,height:e.height/this.renderHeight};this.$emit("crop",Object.assign({target:t},i))},resizeImage(){this.imageFitScreen()},shouldFit(){return this.naturalWidth<=this.windowWidth&&this.naturalHeight<=this.windowHeight},imageOverflow(){const t=this.windowWidth/this.windowHeight,e=this.naturalWidth/this.naturalHeight;t==e?(this.renderWidth=this.windowWidth,this.renderHeight=this.windowHeight):t<e?(this.renderHeight=this.windowHeight,this.renderWidth=this.renderHeight*e):(this.renderWidth=this.windowWidth,this.renderHeight=this.renderWidth/e),this.renderSizeMode=be},imageFitScreen(){const t=this.fitInto(this.naturalWidth,this.naturalHeight,this.windowWidth,this.windowHeight);this.renderWidth=t.width,this.renderHeight=t.height,this.renderSizeMode=fe},toggleCropArea(){let t={};null==this.oldCrop?(this.oldCrop={width:this.setCropWidth,height:this.setCropHeight},t=this.fitInto(this.setCropWidth,this.setCropHeight,this.renderWidth,this.renderHeight)):(t=this.oldCrop,this.oldCrop=null),this.setCropWidth=t.width,this.setCropHeight=t.height},fitInto(t,e,i,s){const n=t/e,a=i/s;return n==a?{width:i,height:s}:a<n?{width:i,height:Math.floor(i/n)}:{height:s,width:Math.floor(s*n)}},toggleRenderSize(){switch(this.renderSizeMode){case be:this.imageFitScreen();break;case fe:this.imageOverflow();break;default:console.error(`unknown toggleRenderSize ${this.renderSizeMode}`)}}},computed:{imageStyle(){return{width:`${this.renderWidth}px`,height:`${this.renderHeight}px`}},containerStyle(){return{width:`${this.renderWidth}px`,height:`${this.renderHeight}px`}},minCropHeight(){return Math.min(ve,this.renderHeight)},minCropWidth(){return Math.min(ge,this.renderWidth)}},components:{DragableResizable:pe}},ye=we,xe=(0,et.Z)(ye,Ut,Yt,!1,null,"4d5f8066",null),ke=xe.exports;const $e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ce=(()=>{if("undefined"===typeof document)return!1;const t=$e[0],e={};for(const i of $e){const s=i?.[1];if(s in document){for(const[s,n]of i.entries())e[t[s]]=n;return e}}return!1})(),Se={change:Ce.fullscreenchange,error:Ce.fullscreenerror};let Te={request(t=document.documentElement,e){return new Promise(((i,s)=>{const n=()=>{Te.off("change",n),i()};Te.on("change",n);const a=t[Ce.requestFullscreen](e);a instanceof Promise&&a.then(n).catch(s)}))},exit(){return new Promise(((t,e)=>{if(!Te.isFullscreen)return void t();const i=()=>{Te.off("change",i),t()};Te.on("change",i);const s=document[Ce.exitFullscreen]();s instanceof Promise&&s.then(i).catch(e)}))},toggle(t,e){return Te.isFullscreen?Te.exit():Te.request(t,e)},onchange(t){Te.on("change",t)},onerror(t){Te.on("error",t)},on(t,e){const i=Se[t];i&&document.addEventListener(i,e,!1)},off(t,e){const i=Se[t];i&&document.removeEventListener(i,e,!1)},raw:Ce};Object.defineProperties(Te,{isFullscreen:{get:()=>Boolean(document[Ce.fullscreenElement])},element:{enumerable:!0,get:()=>document[Ce.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[Ce.fullscreenEnabled])}}),Ce||(Te={isEnabled:!1});var _e=Te,Ie=i(6486),De=i.n(Ie),Me={components:{PageReader:st,ThumbExplorerDialog:ut,SettingsSelect:At,SettingsSwitch:qt,ImageCrop:ke},data:function(){return{showToolbars:!0,pageNumber:1,volume:null,goToPage:1,loadingVolume:!0,showThumbExplorer:!1,showSettings:!1,rotateImage:0,backgroundColors:[{text:this.$t("read.settings.background_color_white").toString(),value:"bg-white"},{text:this.$t("read.settings.background_color_gray").toString(),value:"bg-gray"},{text:this.$t("read.settings.background_color_black").toString(),value:"bg-black"}],readModes:[{text:this.$t("read.settings.read_mode_ltr").toString(),value:"ltr"},{text:this.$t("read.settings.read_mode_rtl").toString(),value:"rtl"}],jumpToNextBook:!1,jumpToPrevBook:!1,jumpConfirmationDelay:3e3,thumbSelection:{enabled:!1,imageURL:null,crop:{top:0,left:0,width:0,height:0},inProgressing:!1},windowWidth:window.innerWidth,windowHeight:window.innerHeight,fullScreen:!1,fullScreenEnabled:!1}},props:{volumeID:{required:!0}},created(){this.fullScreenEnabled=_e.isEnabled,this.fullScreen=_e.isFullscreen,_e.isEnabled&&_e.on("change",this.fullScreenChanged)},async mounted(){await this.setup(this.volumeID,De().parseInt(this.$route.query.page)),this.alwaysFullScreen&&this.enterFullScreen().catch((t=>{console.log("enterfull screen error, maybe cause by refresh page",t)}))},destroyed(){_e.isEnabled&&(_e.off("change",this.fullscreenChanged),_e.exit())},methods:{async syncVolume(t){try{console.log(this.volume)}catch(e){console.error(`get volume ${t} error ${e}`)}},async setup(t,e){console.log(`setup vol ${t} page ${e}`),this.loadingVolume=!0;try{let e=await this.$service.getVolume(t);this.volume=e.data.data}catch(i){console.error(`fetch volume data error: ${i}`)}finally{this.loadingVolume=!1}this.pageNumber=e?De().parseInt(e):1},onHelp(){console.log("on help")},prevVolume(){this.jumpToVolume(this.volume.prev_volume_id,1)},nextVolume(){this.jumpToVolume(this.volume.next_volume_id,1)},jumpToVolume(t,e){let i=De().clone(this.$route.query);i["page"]=e.toString();let s={name:this.$route.name,params:{volumeID:t},query:i};return this.$router.push(s)},goTo(t){this.pageNumber=t,this.showThumbExplorer=!1},rotate(t){this.rotateImage=this.rotateImage+t},onJumpNextStop(){this.jumpToNextBook?this.volume.next_volume_id?this.jumpToVolume(this.volume.next_volume_id,1):this.$router.push({name:"book",params:{bookID:this.volume.book_id}}):this.jumpToNextBook=!0},onJumpPrevStop(){this.jumpToPrevBook?this.volume.prev_volume_id&&this.jumpToVolume(this.volume.prev_volume_id,1):this.jumpToPrevBook=!0},markProgress:De().debounce((function(t){this.$service.updateVolumeProgress(this.volumeID,t).catch((e=>{console.error(`mark volume ${this.volumeID} progress ${t} error: ${e}`)}))}),100),async setVolumeThumb(){this.thumbSelection.inProgressing=!0;const t=this.getSelectRect();try{let e=await this.$service.cropImage(this.volume.id,this.pageNumber,t);await this.$service.setVolumeThumb(this.volume.id,e.data),this.$ninfo("set_volume_thumb")}catch(e){console.error(`set volume ${this.volume.id} thumb error ${e}`),this.$nerror("set_volume_thumb",{err:e})}finally{this.thumbSelection.enabled=!1,this.thumbSelection.inProgressing=!1}},async setBookThumb(){this.thumbSelection.inProgressing=!0;const t=this.getSelectRect();try{let e=await this.$service.cropImage(this.volume.id,this.pageNumber,t);await this.$service.setBookThumb(this.volume.book_id,e.data),this.$ninfo("set_book_thumb")}catch(e){console.error(`set book ${this.volume.book_id} thumb error ${e}`),this.$nerror("set_book_thumb",{err:e})}finally{this.thumbSelection.enabled=!1,this.thumbSelection.inProgressing=!1}},async onCropUpdate(t){this.thumbSelection.inProgressing=!0;try{const e={left:t.left,top:t.top,width:t.width,height:t.height};let i=await this.$service.cropImage(this.volume.id,this.pageNumber,e);switch(console.log(i),t.target){case"book":await this.$service.setBookThumb(this.volume.book_id,i.data),this.$ninfo("set_book_thumb");break;case"volume":await this.$service.setVolumeThumb(this.volume.id,i.data),this.$ninfo("set_volume_thumb");break;default:throw`wrong target ${t.target}`}}catch(e){console.error(`set book/volume ${this.volume.book_id} thumb error ${e}`),this.$nerror("set_thumb",{err:e})}finally{this.thumbSelection.enabled=!1,this.thumbSelection.inProgressing=!1}},onCropClose(){this.thumbSelection.enabled=!1},onResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},enableThumbSelection(){const t=this.$service.pageURL(this.volume.id,this.pageNumber);this.thumbSelection.imageURL=t,this.thumbSelection.enabled=!0,this.thumbSelection.inProgressing=!1},enterFullScreen(){if(_e.isEnabled)return _e.request(document.documentElement,{navigationUI:"hide"})},toggleFullScreen(){_e.isEnabled&&(_e.isFullscreen?_e.exit():_e.request(document.documentElement,{navigationUI:"hide"}))},fullScreenChanged(){this.fullScreen=_e.isEnabled&&_e.isFullscreen}},computed:{fullScreenIcon(){return this.fullScreen?"mdi-fullscreen-exit":"mdi-fullscreen"},spreads(){let t=[];for(const[e,i]of this.volume.files.entries())t.push([{name:i.path,size:i.size,url:this.$service.pageURL(this.volume.id,e+1),page:e+1,thumb:this.$service.pageThumbURL(this.volume.id,e+1)}]);return t},thumbs(){let t=[];for(const[e]of this.volume.files.entries())t.push({url:this.$service.pageThumbURL(this.volume.id,e+1),page:e+1});return t},backgroundColor:{get:function(){return this.$settings.backgroundColor},set:function(t){this.backgroundColors.map((t=>t.value)).includes(t)&&(this.$settings.backgroundColor=t)}},alwaysFullScreen:{get:function(){return this.$settings.alwaysFullScreen},set:function(t){this.$settings.alwaysFullScreen=t,_e.isEnabled&&t!=_e.isFullscreen&&this.toggleFullScreen()}},readMode:{get:function(){return this.$settings.readMode},set:function(t){this.readModes.map((t=>t.value)).includes(t)&&(this.$settings.readMode=t)}}},watch:{pageNumber(t,e){this.markProgress(t),console.log(`reader pageNumber: ${e}=>${t}`);let i=De().clone(this.$route.query);i["page"]=t.toString();const s={name:this.$route.name,params:this.$route.params,query:i};this.$router.replace(s).catch((t=>{if("NavigationDuplicated"!=t.name)throw t})),this.goToPage=t},goToPage:De().debounce((function(t){t!=this.pageNumber&&(this.pageNumber=t,this.rotateImage=0,console.log("goToPage pageNumber",t))}),100)},beforeRouteUpdate(t,e,i){t.params.volumeID!=e.params.volumeID&&this.setup(t.params.volumeID,t.query.page),i()}},Pe=Me,Ze=(0,et.Z)(Pe,E,z,!1,null,"5cb97777",null),Ve=Ze.exports},7393:function(){},5372:function(t,e,i){i.d(e,{Z:function(){return h}});var s=i(2240),n=i(6746),a=i(6878),o=i(7756),r=i(6669),l=i(7678),h=(0,l.Z)(a.Z,(0,o.Z)({onVisible:["init"]}),r.Z).extend({name:"v-pagination",directives:{Resize:n.Z},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const i=e%2===0?1:0,s=Math.floor(e/2),n=this.length-s+1+i;if(this.value>s&&this.value<n){const t=1,e=this.length,n=this.value-s+2,a=this.value+s-2-i,o=n-1===t+1?2:"...",r=a+1===e-1?a+1:"...";return[1,o,...this.range(n,a),r,this.length]}if(this.value===s){const t=this.value+s-1-i;return[...this.range(1,t),"...",this.length]}if(this.value===n){const t=this.value-s+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,s),"...",...this.range(n,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((()=>this.selected=this.value),100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const i=[];t=t>0?t:1;for(let s=t;s<=e;s++)i.push(s);return i},genIcon(t,e,i,n,a){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":a},on:i?{}:{click:n}},[t(s.Z,[e])])])},genItem(t,e){const i=e===this.value&&(this.color||"primary"),s=e===this.value,n=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map(((e,i)=>t("li",{key:i},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)])))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},596:function(t,e,i){i.d(e,{Z:function(){return u}});var s=i(573),n=i(7069),a=i(144),o=a.ZP.extend({name:"rippleable",directives:{ripple:n.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),r=i(6174),l=i(7678);function h(t){t.preventDefault()}var u=(0,l.Z)(s.Z,o,r.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((e=>this.valueComparator(e,t))):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=s.Z.options.methods.genLabel.call(this);return t?(t.data.on={click:h},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:h},ref:"input"})},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter((e=>!this.valueComparator(e,t))),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown(t){}}})}}]);
//# sourceMappingURL=463.f1f6cb68.js.map